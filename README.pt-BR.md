<div align="center">
  <img src="./docs/screenshots/MainOmniRoute.png" alt="OmniRoute Dashboard" width="800"/>
  
  # ğŸš€ OmniRoute â€” O Gateway de IA Gratuito

### Nunca pare de programar. Roteamento inteligente para **modelos de IA GRATUITOS e baratos** com fallback automÃ¡tico.

_Seu proxy de API universal â€” um endpoint, 36+ provedores, zero tempo de inatividade._

**Chat Completions â€¢ Embeddings â€¢ GeraÃ§Ã£o de Imagem â€¢ Ãudio â€¢ Reranking â€¢ 100% TypeScript**

---

### ğŸ¤– Provedor de IA Gratuito para seus agentes de programaÃ§Ã£o favoritos

_Conecte qualquer IDE ou ferramenta CLI com IA atravÃ©s do OmniRoute â€” gateway de API gratuito para programaÃ§Ã£o ilimitada._

  <table>
    <tr>
      <td align="center" width="110">
        <a href="https://github.com/cline/cline">
          <img src="./public/providers/openclaw.png" alt="OpenClaw" width="48"/><br/>
          <b>OpenClaw</b>
        </a><br/>
        <sub>â­ 205K</sub>
      </td>
      <td align="center" width="110">
        <a href="https://github.com/HKUDS/nanobot">
          <img src="./public/providers/nanobot.png" alt="NanoBot" width="48"/><br/>
          <b>NanoBot</b>
        </a><br/>
        <sub>â­ 20.9K</sub>
      </td>
      <td align="center" width="110">
        <a href="https://github.com/sipeed/picoclaw">
          <img src="./public/providers/picoclaw.jpg" alt="PicoClaw" width="48"/><br/>
          <b>PicoClaw</b>
        </a><br/>
        <sub>â­ 14.6K</sub>
      </td>
      <td align="center" width="110">
        <a href="https://github.com/zeroclaw-labs/zeroclaw">
          <img src="./public/providers/zeroclaw.png" alt="ZeroClaw" width="48"/><br/>
          <b>ZeroClaw</b>
        </a><br/>
        <sub>â­ 9.9K</sub>
      </td>
      <td align="center" width="110">
        <a href="https://github.com/nearai/ironclaw">
          <img src="./public/providers/ironclaw.png" alt="IronClaw" width="48"/><br/>
          <b>IronClaw</b>
        </a><br/>
        <sub>â­ 2.1K</sub>
      </td>
    </tr>
    <tr>
      <td align="center" width="110">
        <a href="https://github.com/anomalyco/opencode">
          <img src="./public/providers/opencode.svg" alt="OpenCode" width="48"/><br/>
          <b>OpenCode</b>
        </a><br/>
        <sub>â­ 106K</sub>
      </td>
      <td align="center" width="110">
        <a href="https://github.com/openai/codex">
          <img src="./public/providers/codex.png" alt="Codex CLI" width="48"/><br/>
          <b>Codex CLI</b>
        </a><br/>
        <sub>â­ 60.8K</sub>
      </td>
      <td align="center" width="110">
        <a href="https://github.com/anthropics/claude-code">
          <img src="./public/providers/claude.png" alt="Claude Code" width="48"/><br/>
          <b>Claude Code</b>
        </a><br/>
        <sub>â­ 67.3K</sub>
      </td>
      <td align="center" width="110">
        <a href="https://github.com/google-gemini/gemini-cli">
          <img src="./public/providers/gemini-cli.png" alt="Gemini CLI" width="48"/><br/>
          <b>Gemini CLI</b>
        </a><br/>
        <sub>â­ 94.7K</sub>
      </td>
      <td align="center" width="110">
        <a href="https://github.com/Kilo-Org/kilocode">
          <img src="./public/providers/kilocode.png" alt="Kilo Code" width="48"/><br/>
          <b>Kilo Code</b>
        </a><br/>
        <sub>â­ 15.5K</sub>
      </td>
    </tr>
  </table>

<sub>ğŸ“¡ Todos os agentes se conectam via <code>http://localhost:20128/v1</code> ou <code>http://cloud.omniroute.online/v1</code> â€” uma configuraÃ§Ã£o, modelos e cota ilimitados</sub>

---

[![npm version](https://img.shields.io/npm/v/omniroute?color=cb3837&logo=npm)](https://www.npmjs.com/package/omniroute)
[![Docker Hub](https://img.shields.io/docker/v/diegosouzapw/omniroute?label=Docker%20Hub&logo=docker&color=2496ED)](https://hub.docker.com/r/diegosouzapw/omniroute)
[![License](https://img.shields.io/github/license/diegosouzapw/OmniRoute)](https://github.com/diegosouzapw/OmniRoute/blob/main/LICENSE)
[![Website](https://img.shields.io/badge/Website-omniroute.online-blue?logo=google-chrome&logoColor=white)](https://omniroute.online)

[ğŸŒ Website](https://omniroute.online) â€¢ [ğŸš€ InÃ­cio RÃ¡pido](#-inÃ­cio-rÃ¡pido) â€¢ [ğŸ’¡ Funcionalidades](#-funcionalidades-principais) â€¢ [ğŸ“– Docs](#-documentaÃ§Ã£o) â€¢ [ğŸ’° PreÃ§os](#-preÃ§os-resumidos)

ğŸŒ **DisponÃ­vel em:** [English](README.md) | [PortuguÃªs](README.pt-BR.md) | [EspaÃ±ol](README.es.md) | [Ğ ÑƒÑÑĞºĞ¸Ğ¹](README.ru.md) | [ä¸­æ–‡](README.zh-CN.md) | [Deutsch](README.de.md) | [FranÃ§ais](README.fr.md) | [Italiano](README.it.md)

</div>

---

## ğŸ¤” Por que OmniRoute?

**Pare de desperdiÃ§ar dinheiro e bater em limites:**

- <img src="https://img.shields.io/badge/âœ—-e74c3c?style=flat-square" height="16"/> Cota de assinatura expira sem uso todo mÃªs
- <img src="https://img.shields.io/badge/âœ—-e74c3c?style=flat-square" height="16"/> Limites de taxa param vocÃª no meio da programaÃ§Ã£o
- <img src="https://img.shields.io/badge/âœ—-e74c3c?style=flat-square" height="16"/> APIs caras ($20-50/mÃªs por provedor)
- <img src="https://img.shields.io/badge/âœ—-e74c3c?style=flat-square" height="16"/> Trocar manualmente entre provedores

**OmniRoute resolve isso:**

- âœ… **Maximize assinaturas** - Rastreie cotas, use tudo antes do reset
- âœ… **Fallback automÃ¡tico** - Assinatura â†’ API Key â†’ Barato â†’ Gratuito, zero tempo de inatividade
- âœ… **Multi-conta** - Round-robin entre contas por provedor
- âœ… **Universal** - Funciona com Claude Code, Codex, Gemini CLI, Cursor, Cline, OpenClaw, qualquer ferramenta CLI

---

## ğŸ”„ Como Funciona

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sua CLI    â”‚  (Claude Code, Codex, Gemini CLI, OpenClaw, Cursor, Cline...)
â”‚   Tool      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ http://localhost:20128/v1
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           OmniRoute (Roteador Inteligente) â”‚
â”‚  â€¢ TraduÃ§Ã£o de formato (OpenAI â†” Claude) â”‚
â”‚  â€¢ Rastreamento de cota + Embeddings + Imagens â”‚
â”‚  â€¢ RenovaÃ§Ã£o automÃ¡tica de tokens        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â†’ [Tier 1: ASSINATURA] Claude Code, Codex, Gemini CLI
       â”‚   â†“ cota esgotada
       â”œâ”€â†’ [Tier 2: API KEY] DeepSeek, Groq, xAI, Mistral, NVIDIA NIM, etc.
       â”‚   â†“ limite de orÃ§amento
       â”œâ”€â†’ [Tier 3: BARATO] GLM ($0.6/1M), MiniMax ($0.2/1M)
       â”‚   â†“ limite de orÃ§amento
       â””â”€â†’ [Tier 4: GRATUITO] iFlow, Qwen, Kiro (ilimitado)

Resultado: Nunca pare de programar, custo mÃ­nimo
```

---

## âš¡ InÃ­cio RÃ¡pido

**1. Instale globalmente:**

```bash
npm install -g omniroute
omniroute
```

ğŸ‰ Dashboard abre em `http://localhost:20128`

| Comando                 | DescriÃ§Ã£o                             |
| ----------------------- | ------------------------------------- |
| `omniroute`             | Iniciar servidor (porta padrÃ£o 20128) |
| `omniroute --port 3000` | Usar porta personalizada              |
| `omniroute --no-open`   | NÃ£o abrir navegador automaticamente   |
| `omniroute --help`      | Mostrar ajuda                         |

**2. Conecte um provedor GRATUITO:**

Dashboard â†’ Provedores â†’ Conectar **Claude Code** ou **Antigravity** â†’ Login OAuth â†’ Pronto!

**3. Use na sua ferramenta CLI:**

```
Claude Code/Codex/Gemini CLI/OpenClaw/Cursor/Cline ConfiguraÃ§Ãµes:
  Endpoint: http://localhost:20128/v1
  API Key: [copie do dashboard]
  Model: if/kimi-k2-thinking
```

**Pronto!** Comece a programar com modelos de IA GRATUITOS.

**Alternativa â€” rodar a partir do cÃ³digo-fonte:**

```bash
cp .env.example .env
npm install
PORT=20128 NEXT_PUBLIC_BASE_URL=http://localhost:20128 npm run dev
```

---

## ğŸ³ Docker

OmniRoute estÃ¡ disponÃ­vel como imagem Docker pÃºblica no [Docker Hub](https://hub.docker.com/r/diegosouzapw/omniroute).

**ExecuÃ§Ã£o rÃ¡pida:**

```bash
docker run -d \
  --name omniroute \
  --restart unless-stopped \
  -p 20128:20128 \
  -v omniroute-data:/app/data \
  diegosouzapw/omniroute:latest
```

**Com arquivo de ambiente:**

```bash
# Copie e edite o .env primeiro
cp .env.example .env

docker run -d \
  --name omniroute \
  --restart unless-stopped \
  --env-file .env \
  -p 20128:20128 \
  -v omniroute-data:/app/data \
  diegosouzapw/omniroute:latest
```

**Usando Docker Compose:**

```bash
# Perfil base (sem ferramentas CLI)
docker compose --profile base up -d

# Perfil CLI (Claude Code, Codex, OpenClaw integrados)
docker compose --profile cli up -d
```

| Imagem                   | Tag      | Tamanho | DescriÃ§Ã£o             |
| ------------------------ | -------- | ------- | --------------------- |
| `diegosouzapw/omniroute` | `latest` | ~250MB  | Ãšltima versÃ£o estÃ¡vel |
| `diegosouzapw/omniroute` | `1.0.3`  | ~250MB  | VersÃ£o atual          |

---

## ğŸ’° PreÃ§os Resumidos

| Tier              | Provedor          | Custo                        | Reset de Cota     | Melhor Para             |
| ----------------- | ----------------- | ---------------------------- | ----------------- | ----------------------- |
| **ğŸ’³ ASSINATURA** | Claude Code (Pro) | $20/mÃªs                      | 5h + semanal      | JÃ¡ Ã© assinante          |
|                   | Codex (Plus/Pro)  | $20-200/mÃªs                  | 5h + semanal      | UsuÃ¡rios OpenAI         |
|                   | Gemini CLI        | **GRATUITO**                 | 180K/mÃªs + 1K/dia | Todos!                  |
|                   | GitHub Copilot    | $10-19/mÃªs                   | Mensal            | UsuÃ¡rios GitHub         |
| **ğŸ”‘ API KEY**    | NVIDIA NIM        | **GRATUITO** (1000 crÃ©ditos) | Ãšnico             | Testes gratuitos        |
|                   | DeepSeek          | Por uso                      | Nenhum            | Melhor preÃ§o/qualidade  |
|                   | Groq              | Tier gratuito + pago         | Limitado          | InferÃªncia ultra-rÃ¡pida |
|                   | xAI (Grok)        | Por uso                      | Nenhum            | Modelos Grok            |
|                   | Mistral           | Tier gratuito + pago         | Limitado          | IA Europeia             |
|                   | OpenRouter        | Por uso                      | Nenhum            | 100+ modelos            |
| **ğŸ’° BARATO**     | GLM-4.7           | $0.6/1M                      | DiÃ¡rio 10h        | Backup econÃ´mico        |
|                   | MiniMax M2.1      | $0.2/1M                      | Rotativo 5h       | OpÃ§Ã£o mais barata       |
|                   | Kimi K2           | $9/mÃªs fixo                  | 10M tokens/mÃªs    | Custo previsÃ­vel        |
| **ğŸ†“ GRATUITO**   | iFlow             | $0                           | Ilimitado         | 8 modelos gratuitos     |
|                   | Qwen              | $0                           | Ilimitado         | 3 modelos gratuitos     |
|                   | Kiro              | $0                           | Ilimitado         | Claude gratuito         |

**ğŸ’¡ Dica Pro:** Comece com Gemini CLI (180K grÃ¡tis/mÃªs) + iFlow (ilimitado grÃ¡tis) = $0 de custo!

---

## ğŸ¯ Casos de Uso

### Caso 1: "Tenho assinatura Claude Pro"

**Problema:** Cota expira sem uso, limites de taxa durante programaÃ§Ã£o intensa

```
Combo: "maximize-claude"
  1. cc/claude-opus-4-6        (usar assinatura ao mÃ¡ximo)
  2. glm/glm-4.7               (backup barato quando a cota acabar)
  3. if/kimi-k2-thinking       (fallback de emergÃªncia gratuito)

Custo mensal: $20 (assinatura) + ~$5 (backup) = $25 total
vs. $20 + bater em limites = frustraÃ§Ã£o
```

### Caso 2: "Quero custo zero"

**Problema:** NÃ£o pode pagar assinaturas, precisa de IA confiÃ¡vel para programar

```
Combo: "free-forever"
  1. gc/gemini-3-flash         (180K grÃ¡tis/mÃªs)
  2. if/kimi-k2-thinking       (ilimitado grÃ¡tis)
  3. qw/qwen3-coder-plus       (ilimitado grÃ¡tis)

Custo mensal: $0
Qualidade: Modelos prontos para produÃ§Ã£o
```

### Caso 3: "Preciso programar 24/7, sem interrupÃ§Ãµes"

**Problema:** Prazos apertados, nÃ£o pode ter tempo de inatividade

```
Combo: "always-on"
  1. cc/claude-opus-4-6        (melhor qualidade)
  2. cx/gpt-5.2-codex          (segunda assinatura)
  3. glm/glm-4.7               (barato, reset diÃ¡rio)
  4. minimax/MiniMax-M2.1      (mais barato, reset 5h)
  5. if/kimi-k2-thinking       (gratuito ilimitado)

Resultado: 5 camadas de fallback = zero tempo de inatividade
```

### Caso 4: "Quero IA GRATUITA no OpenClaw"

**Problema:** Precisa de assistente de IA em aplicativos de mensagens, completamente gratuito

```
Combo: "openclaw-free"
  1. if/glm-4.7                (ilimitado grÃ¡tis)
  2. if/minimax-m2.1           (ilimitado grÃ¡tis)
  3. if/kimi-k2-thinking       (ilimitado grÃ¡tis)

Custo mensal: $0
Acesso via: WhatsApp, Telegram, Slack, Discord, iMessage, Signal...
```

---

## ğŸ’¡ Funcionalidades Principais

### ğŸ§  Roteamento e InteligÃªncia

| Funcionalidade                            | O que Faz                                                                       |
| ----------------------------------------- | ------------------------------------------------------------------------------- |
| ğŸ¯ **Fallback Inteligente 4 Tiers**       | Auto-roteamento: Assinatura â†’ API Key â†’ Barato â†’ Gratuito                       |
| ğŸ“Š **Rastreamento de Cota em Tempo Real** | Contagem de tokens ao vivo + countdown de reset por provedor                    |
| ğŸ”„ **TraduÃ§Ã£o de Formato**                | OpenAI â†” Claude â†” Gemini â†” Cursor â†” Kiro transparente                           |
| ğŸ‘¥ **Suporte Multi-Conta**                | MÃºltiplas contas por provedor com seleÃ§Ã£o inteligente                           |
| ğŸ”„ **RenovaÃ§Ã£o AutomÃ¡tica de Token**      | Tokens OAuth renovam automaticamente com retry                                  |
| ğŸ¨ **Combos Personalizados**              | 6 estratÃ©gias: fill-first, round-robin, p2c, random, least-used, cost-optimized |
| ğŸ§© **Modelos Personalizados**             | Adicione qualquer ID de modelo a qualquer provedor                              |
| ğŸŒ **Roteador Wildcard**                  | Roteie padrÃµes `provider/*` para qualquer provedor dinamicamente                |
| ğŸ§  **Budget de RaciocÃ­nio**               | Modos passthrough, auto, custom e adaptativo para modelos de raciocÃ­nio         |
| ğŸ’¬ **InjeÃ§Ã£o de System Prompt**           | System prompt global aplicado em todas as requisiÃ§Ãµes                           |
| ğŸ“„ **API Responses**                      | Suporte completo Ã  API Responses da OpenAI (`/v1/responses`) para Codex         |

### ğŸµ APIs Multi-Modal

| Funcionalidade              | O que Faz                                            |
| --------------------------- | ---------------------------------------------------- |
| ğŸ–¼ï¸ **GeraÃ§Ã£o de Imagem**    | `/v1/images/generations` â€” 4 provedores, 9+ modelos  |
| ğŸ“ **Embeddings**           | `/v1/embeddings` â€” 6 provedores, 9+ modelos          |
| ğŸ¤ **TranscriÃ§Ã£o de Ãudio** | `/v1/audio/transcriptions` â€” CompatÃ­vel com Whisper  |
| ğŸ”Š **Texto para Fala**      | `/v1/audio/speech` â€” SÃ­ntese de Ã¡udio multi-provedor |
| ğŸ›¡ï¸ **ModeraÃ§Ãµes**           | `/v1/moderations` â€” VerificaÃ§Ãµes de seguranÃ§a        |
| ğŸ”€ **Reranking**            | `/v1/rerank` â€” Reranking de relevÃ¢ncia de documentos |

### ğŸ›¡ï¸ ResiliÃªncia e SeguranÃ§a

| Funcionalidade                     | O que Faz                                                             |
| ---------------------------------- | --------------------------------------------------------------------- |
| ğŸ”Œ **Circuit Breaker**             | Auto-abertura/fechamento por provedor com limites configurÃ¡veis       |
| ğŸ›¡ï¸ **Anti-Thundering Herd**        | Mutex + semÃ¡foro rate-limit para provedores com API key               |
| ğŸ§  **Cache SemÃ¢ntico**             | Cache de duas camadas (assinatura + semÃ¢ntico) reduz custo e latÃªncia |
| âš¡ **IdempotÃªncia de RequisiÃ§Ã£o**  | Janela de dedup de 5s para requisiÃ§Ãµes duplicadas                     |
| ğŸ”’ **Spoofing de Fingerprint TLS** | Bypass de detecÃ§Ã£o de bot via TLS com wreq-js                         |
| ğŸŒ **Filtragem de IP**             | Allowlist/blocklist para controle de acesso Ã  API                     |
| ğŸ“Š **Rate Limits EditÃ¡veis**       | RPM, gap mÃ­nimo e concorrÃªncia mÃ¡xima configurÃ¡veis                   |

### ğŸ“Š Observabilidade e Analytics

| Funcionalidade                   | O que Faz                                                             |
| -------------------------------- | --------------------------------------------------------------------- |
| ğŸ“ **Logs de RequisiÃ§Ã£o**        | Modo debug com logs completos de request/response                     |
| ğŸ’¾ **Logs SQLite**               | Logs de proxy persistentes sobrevivem a reinicializaÃ§Ãµes              |
| ğŸ“Š **Dashboard de Analytics**    | Recharts: cards de estatÃ­sticas, grÃ¡fico de uso, tabela de provedores |
| ğŸ“ˆ **Rastreamento de Progresso** | Eventos de progresso SSE opt-in para streaming                        |
| ğŸ§ª **AvaliaÃ§Ãµes de LLM**         | Testes com conjunto golden e 4 estratÃ©gias de match                   |
| ğŸ” **Telemetria de RequisiÃ§Ã£o**  | AgregaÃ§Ã£o de latÃªncia p50/p95/p99 + rastreamento X-Request-Id         |
| ğŸ“‹ **Logs + Cotas**              | PÃ¡ginas dedicadas para navegaÃ§Ã£o de logs e rastreamento de cotas      |
| ğŸ¥ **Dashboard de SaÃºde**        | Uptime, estados de circuit breaker, lockouts, stats de cache          |
| ğŸ’° **Rastreamento de Custo**     | GestÃ£o de orÃ§amento + configuraÃ§Ã£o de preÃ§os por modelo               |

### â˜ï¸ Deploy e SincronizaÃ§Ã£o

| Funcionalidade                    | O que Faz                                                                         |
| --------------------------------- | --------------------------------------------------------------------------------- |
| ğŸ’¾ **Cloud Sync**                 | Sincronize configuraÃ§Ãµes entre dispositivos via Cloudflare Workers                |
| ğŸŒ **Deploy em Qualquer Lugar**   | Localhost, VPS, Docker, Cloudflare Workers                                        |
| ğŸ”‘ **GestÃ£o de API Keys**         | Gere, rotacione e defina escopo de API keys por provedor                          |
| ğŸ§™ **Assistente de ConfiguraÃ§Ã£o** | Setup guiado em 4 etapas para novos usuÃ¡rios                                      |
| ğŸ”§ **Dashboard CLI Tools**        | ConfiguraÃ§Ã£o em um clique para Claude, Codex, Cline, OpenClaw, Kilo, Antigravity  |
| ğŸ”„ **Backups de DB**              | Backup, restauraÃ§Ã£o, exportaÃ§Ã£o e importaÃ§Ã£o automÃ¡tica de todas as configuraÃ§Ãµes |

<details>
<summary><b>ğŸ“– Detalhes das Funcionalidades</b></summary>

### ğŸ¯ Fallback Inteligente 4 Tiers

Crie combos com fallback automÃ¡tico:

```
Combo: "my-coding-stack"
  1. cc/claude-opus-4-6        (sua assinatura)
  2. nvidia/llama-3.3-70b      (API NVIDIA gratuita)
  3. glm/glm-4.7               (backup barato, $0.6/1M)
  4. if/kimi-k2-thinking       (fallback gratuito)

â†’ Troca automaticamente quando a cota acaba ou erros ocorrem
```

### ğŸ“Š Rastreamento de Cota em Tempo Real

- Consumo de tokens por provedor
- Countdown de reset (5 horas, diÃ¡rio, semanal)
- Estimativa de custo para tiers pagos
- RelatÃ³rios de gastos mensais

### ğŸ”„ TraduÃ§Ã£o de Formato

TraduÃ§Ã£o transparente entre formatos:

- **OpenAI** â†” **Claude** â†” **Gemini** â†” **OpenAI Responses**
- Sua ferramenta CLI envia formato OpenAI â†’ OmniRoute traduz â†’ Provedor recebe formato nativo
- Funciona com qualquer ferramenta que suporte endpoints OpenAI customizados

### ğŸ‘¥ Suporte Multi-Conta

- Adicione mÃºltiplas contas por provedor
- Round-robin automÃ¡tico ou roteamento por prioridade
- Fallback para prÃ³xima conta quando uma atinge a cota

### ğŸ”„ RenovaÃ§Ã£o AutomÃ¡tica de Token

- Tokens OAuth renovam automaticamente antes de expirar
- Sem necessidade de re-autenticaÃ§Ã£o manual
- ExperiÃªncia transparente em todos os provedores

### ğŸ¨ Combos Personalizados

- Crie combinaÃ§Ãµes ilimitadas de modelos
- 6 estratÃ©gias: fill-first, round-robin, power-of-two-choices, random, least-used, cost-optimized
- Compartilhe combos entre dispositivos com Cloud Sync

### ğŸ¥ Dashboard de SaÃºde

- Status do sistema (uptime, versÃ£o, uso de memÃ³ria)
- Estados de circuit breaker por provedor (Closed/Open/Half-Open)
- Status de rate limit e lockouts ativos
- EstatÃ­sticas de cache de assinatura
- Telemetria de latÃªncia (p50/p95/p99) + cache de prompt
- Reset de saÃºde com um clique

### ğŸ”§ Playground do Tradutor

O OmniRoute inclui um poderoso Playground de TraduÃ§Ã£o integrado com **4 modos** para debug, teste e monitoramento de traduÃ§Ãµes de API:

| Modo                | DescriÃ§Ã£o                                                                                                                                                                                                                             |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ğŸ’» Playground**   | TraduÃ§Ã£o direta entre formatos â€” cole qualquer corpo de requisiÃ§Ã£o e veja instantaneamente como o OmniRoute traduz entre formatos (OpenAI â†” Claude â†” Gemini â†” Responses API). Inclui templates de exemplo e auto-detecÃ§Ã£o de formato. |
| **ğŸ’¬ Chat Tester**  | Envie requisiÃ§Ãµes reais pelo OmniRoute e veja a viagem completa: sua entrada, a requisiÃ§Ã£o traduzida, a resposta do provedor, e a resposta traduzida de volta. InestimÃ¡vel para validar roteamento de combos.                         |
| **ğŸ§ª Test Bench**   | Modo de teste em lote â€” defina mÃºltiplos casos de teste com diferentes entradas e saÃ­das esperadas, execute todos de uma vez, e compare resultados entre provedores e modelos.                                                        |
| **ğŸ“± Live Monitor** | Monitoramento de requisiÃ§Ãµes em tempo real â€” acompanhe requisiÃ§Ãµes entrando conforme fluem pelo OmniRoute, veja traduÃ§Ãµes de formato acontecendo ao vivo, e identifique problemas instantaneamente.                                   |

**Acesso:** Dashboard â†’ Translator (barra lateral)

### ğŸ’¾ Cloud Sync

- Sincronize provedores, combos e configuraÃ§Ãµes entre dispositivos
- SincronizaÃ§Ã£o automÃ¡tica em background
- Armazenamento criptografado seguro

</details>

---

## ğŸ“– Guia de ConfiguraÃ§Ã£o

<details>
<summary><b>ğŸ’³ Provedores por Assinatura</b></summary>

### Claude Code (Pro/Max)

```bash
Dashboard â†’ Provedores â†’ Conectar Claude Code
â†’ Login OAuth â†’ RenovaÃ§Ã£o automÃ¡tica de token
â†’ Rastreamento de cota 5h + semanal

Modelos:
  cc/claude-opus-4-6
  cc/claude-sonnet-4-5-20250929
  cc/claude-haiku-4-5-20251001
```

**Dica Pro:** Use Opus para tarefas complexas, Sonnet para velocidade. OmniRoute rastreia cota por modelo!

### OpenAI Codex (Plus/Pro)

```bash
Dashboard â†’ Provedores â†’ Conectar Codex
â†’ Login OAuth (porta 1455)
â†’ Reset 5h + semanal

Modelos:
  cx/gpt-5.2-codex
  cx/gpt-5.1-codex-max
```

### Gemini CLI (GRATUITO 180K/mÃªs!)

```bash
Dashboard â†’ Provedores â†’ Conectar Gemini CLI
â†’ Google OAuth
â†’ 180K completions/mÃªs + 1K/dia

Modelos:
  gc/gemini-3-flash-preview
  gc/gemini-2.5-pro
```

**Melhor Valor:** Tier gratuito enorme! Use antes dos tiers pagos.

### GitHub Copilot

```bash
Dashboard â†’ Provedores â†’ Conectar GitHub
â†’ OAuth via GitHub
â†’ Reset mensal (1Âº do mÃªs)

Modelos:
  gh/gpt-5
  gh/claude-4.5-sonnet
  gh/gemini-3-pro
```

</details>

<details>
<summary><b>ğŸ”‘ Provedores por API Key</b></summary>

### NVIDIA NIM (GRATUITO 1000 crÃ©ditos!)

1. Cadastre-se: [build.nvidia.com](https://build.nvidia.com)
2. Obtenha API key gratuita (1000 crÃ©ditos de inferÃªncia incluÃ­dos)
3. Dashboard â†’ Adicionar Provedor â†’ NVIDIA NIM:
   - API Key: `nvapi-your-key`

**Modelos:** `nvidia/llama-3.3-70b-instruct`, `nvidia/mistral-7b-instruct`, e 50+ mais

**Dica Pro:** API compatÃ­vel com OpenAI â€” funciona perfeitamente com a traduÃ§Ã£o de formato do OmniRoute!

### DeepSeek

1. Cadastre-se: [platform.deepseek.com](https://platform.deepseek.com)
2. Obtenha API key
3. Dashboard â†’ Adicionar Provedor â†’ DeepSeek

**Modelos:** `deepseek/deepseek-chat`, `deepseek/deepseek-coder`

### Groq (Tier Gratuito DisponÃ­vel!)

1. Cadastre-se: [console.groq.com](https://console.groq.com)
2. Obtenha API key (tier gratuito incluÃ­do)
3. Dashboard â†’ Adicionar Provedor â†’ Groq

**Modelos:** `groq/llama-3.3-70b`, `groq/mixtral-8x7b`

**Dica Pro:** InferÃªncia ultra-rÃ¡pida â€” melhor para programaÃ§Ã£o em tempo real!

### OpenRouter (100+ Modelos)

1. Cadastre-se: [openrouter.ai](https://openrouter.ai)
2. Obtenha API key
3. Dashboard â†’ Adicionar Provedor â†’ OpenRouter

**Modelos:** Acesse 100+ modelos de todos os principais provedores atravÃ©s de uma Ãºnica API key.

</details>

<details>
<summary><b>ğŸ’° Provedores Baratos (Backup)</b></summary>

### GLM-4.7 (Reset diÃ¡rio, $0.6/1M)

1. Cadastre-se: [Zhipu AI](https://open.bigmodel.cn/)
2. Obtenha API key do Plano Coding
3. Dashboard â†’ Adicionar API Key:
   - Provedor: `glm`
   - API Key: `your-key`

**Use:** `glm/glm-4.7`

**Dica Pro:** Plano Coding oferece 3Ã— cota a 1/7 do custo! Reset diÃ¡rio 10:00 AM.

### MiniMax M2.1 (Reset 5h, $0.20/1M)

1. Cadastre-se: [MiniMax](https://www.minimax.io/)
2. Obtenha API key
3. Dashboard â†’ Adicionar API Key

**Use:** `minimax/MiniMax-M2.1`

**Dica Pro:** OpÃ§Ã£o mais barata para contexto longo (1M tokens)!

### Kimi K2 ($9/mÃªs fixo)

1. Assine: [Moonshot AI](https://platform.moonshot.ai/)
2. Obtenha API key
3. Dashboard â†’ Adicionar API Key

**Use:** `kimi/kimi-latest`

**Dica Pro:** $9/mÃªs fixo por 10M tokens = $0.90/1M de custo efetivo!

</details>

<details>
<summary><b>ğŸ†“ Provedores GRATUITOS (Backup de EmergÃªncia)</b></summary>

### iFlow (8 modelos GRATUITOS)

```bash
Dashboard â†’ Conectar iFlow
â†’ Login OAuth iFlow
â†’ Uso ilimitado

Modelos:
  if/kimi-k2-thinking
  if/qwen3-coder-plus
  if/glm-4.7
  if/minimax-m2
  if/deepseek-r1
```

### Qwen (3 modelos GRATUITOS)

```bash
Dashboard â†’ Conectar Qwen
â†’ AutorizaÃ§Ã£o por cÃ³digo de dispositivo
â†’ Uso ilimitado

Modelos:
  qw/qwen3-coder-plus
  qw/qwen3-coder-flash
```

### Kiro (Claude GRATUITO)

```bash
Dashboard â†’ Conectar Kiro
â†’ AWS Builder ID ou Google/GitHub
â†’ Uso ilimitado

Modelos:
  kr/claude-sonnet-4.5
  kr/claude-haiku-4.5
```

</details>

<details>
<summary><b>ğŸ¨ Criar Combos</b></summary>

### Exemplo 1: Maximizar Assinatura â†’ Backup Barato

```
Dashboard â†’ Combos â†’ Criar Novo

Nome: premium-coding
Modelos:
  1. cc/claude-opus-4-6 (Assinatura primÃ¡ria)
  2. glm/glm-4.7 (Backup barato, $0.6/1M)
  3. minimax/MiniMax-M2.1 (Fallback mais barato, $0.20/1M)

Use na CLI: premium-coding
```

### Exemplo 2: Somente Gratuito (Custo Zero)

```
Nome: free-combo
Modelos:
  1. gc/gemini-3-flash-preview (180K grÃ¡tis/mÃªs)
  2. if/kimi-k2-thinking (ilimitado)
  3. qw/qwen3-coder-plus (ilimitado)

Custo: $0 para sempre!
```

</details>

<details>
<summary><b>ğŸ”§ IntegraÃ§Ã£o CLI</b></summary>

### Cursor IDE

```
ConfiguraÃ§Ãµes â†’ Modelos â†’ AvanÃ§ado:
  OpenAI API Base URL: http://localhost:20128/v1
  OpenAI API Key: [do dashboard OmniRoute]
  Model: cc/claude-opus-4-6
```

### Claude Code

Use a pÃ¡gina **CLI Tools** no dashboard para configuraÃ§Ã£o em um clique, ou edite `~/.claude/settings.json` manualmente.

### Codex CLI

```bash
export OPENAI_BASE_URL="http://localhost:20128"
export OPENAI_API_KEY="your-omniroute-api-key"

codex "your prompt"
```

### OpenClaw

**OpÃ§Ã£o 1 â€” Dashboard (recomendado):**

```
Dashboard â†’ CLI Tools â†’ OpenClaw â†’ Selecionar Modelo â†’ Aplicar
```

**OpÃ§Ã£o 2 â€” Manual:** Edite `~/.openclaw/openclaw.json`:

```json
{
  "models": {
    "providers": {
      "omniroute": {
        "baseUrl": "http://127.0.0.1:20128/v1",
        "apiKey": "sk_omniroute",
        "api": "openai-completions"
      }
    }
  }
}
```

> **Nota:** OpenClaw funciona apenas com OmniRoute local. Use `127.0.0.1` em vez de `localhost` para evitar problemas de resoluÃ§Ã£o IPv6.

### Cline / Continue / RooCode

```
ConfiguraÃ§Ãµes â†’ ConfiguraÃ§Ã£o de API:
  Provedor: OpenAI Compatible
  Base URL: http://localhost:20128/v1
  API Key: [do dashboard OmniRoute]
  Model: if/kimi-k2-thinking
```

</details>

---

## ğŸ“Š Modelos DisponÃ­veis

<details>
<summary><b>Ver todos os modelos disponÃ­veis</b></summary>

**Claude Code (`cc/`)** - Pro/Max:

- `cc/claude-opus-4-6`
- `cc/claude-sonnet-4-5-20250929`
- `cc/claude-haiku-4-5-20251001`

**Codex (`cx/`)** - Plus/Pro:

- `cx/gpt-5.2-codex`
- `cx/gpt-5.1-codex-max`

**Gemini CLI (`gc/`)** - GRATUITO:

- `gc/gemini-3-flash-preview`
- `gc/gemini-2.5-pro`

**GitHub Copilot (`gh/`)**:

- `gh/gpt-5`
- `gh/claude-4.5-sonnet`

**NVIDIA NIM (`nvidia/`)** - CrÃ©ditos GRATUITOS:

- `nvidia/llama-3.3-70b-instruct`
- `nvidia/mistral-7b-instruct`
- 50+ mais modelos em [build.nvidia.com](https://build.nvidia.com)

**GLM (`glm/`)** - $0.6/1M:

- `glm/glm-4.7`

**MiniMax (`minimax/`)** - $0.2/1M:

- `minimax/MiniMax-M2.1`

**iFlow (`if/`)** - GRATUITO:

- `if/kimi-k2-thinking`
- `if/qwen3-coder-plus`
- `if/deepseek-r1`
- `if/glm-4.7`
- `if/minimax-m2`

**Qwen (`qw/`)** - GRATUITO:

- `qw/qwen3-coder-plus`
- `qw/qwen3-coder-flash`

**Kiro (`kr/`)** - GRATUITO:

- `kr/claude-sonnet-4.5`
- `kr/claude-haiku-4.5`

**OpenRouter (`or/`)** - 100+ modelos:

- `or/anthropic/claude-4-sonnet`
- `or/google/gemini-2.5-pro`
- Qualquer modelo de [openrouter.ai/models](https://openrouter.ai/models)

</details>

---

## ğŸ§ª AvaliaÃ§Ãµes (Evals)

OmniRoute inclui um framework de avaliaÃ§Ã£o integrado para testar a qualidade de respostas de LLM contra um conjunto golden. Acesse via **Analytics â†’ Evals** no dashboard.

### Conjunto Golden Integrado

O "OmniRoute Golden Set" prÃ©-carregado contÃ©m 10 casos de teste cobrindo:

- SaudaÃ§Ãµes, matemÃ¡tica, geografia, geraÃ§Ã£o de cÃ³digo
- Conformidade de formato JSON, traduÃ§Ã£o, markdown
- Recusa de seguranÃ§a (conteÃºdo prejudicial), contagem, lÃ³gica booleana

### EstratÃ©gias de AvaliaÃ§Ã£o

| EstratÃ©gia | DescriÃ§Ã£o                                      | Exemplo                          |
| ---------- | ---------------------------------------------- | -------------------------------- |
| `exact`    | SaÃ­da deve corresponder exatamente             | `"4"`                            |
| `contains` | SaÃ­da deve conter substring (case-insensitive) | `"Paris"`                        |
| `regex`    | SaÃ­da deve corresponder ao padrÃ£o regex        | `"1.*2.*3"`                      |
| `custom`   | FunÃ§Ã£o JS customizada retorna true/false       | `(output) => output.length > 10` |

---

## ğŸ› SoluÃ§Ã£o de Problemas

<details>
<summary><b>Clique para expandir o guia de soluÃ§Ã£o de problemas</b></summary>

**"Language model did not provide messages"**

- Cota do provedor esgotada â†’ Verifique o rastreador de cota no dashboard
- SoluÃ§Ã£o: Use combo com fallback ou mude para tier mais barato

**Rate limiting**

- Cota de assinatura esgotada â†’ Fallback para GLM/MiniMax
- Adicione combo: `cc/claude-opus-4-6 â†’ glm/glm-4.7 â†’ if/kimi-k2-thinking`

**Token OAuth expirado**

- Renovado automaticamente pelo OmniRoute
- Se persistir: Dashboard â†’ Provedor â†’ Reconectar

**Custos altos**

- Verifique estatÃ­sticas de uso em Dashboard â†’ Custos
- Mude modelo primÃ¡rio para GLM/MiniMax
- Use tier gratuito (Gemini CLI, iFlow) para tarefas nÃ£o-crÃ­ticas

**Dashboard abre na porta errada**

- Defina `PORT=20128` e `NEXT_PUBLIC_BASE_URL=http://localhost:20128`

**Erros de cloud sync**

- Verifique se `BASE_URL` aponta para sua instÃ¢ncia em execuÃ§Ã£o
- Verifique se `CLOUD_URL` aponta para seu endpoint cloud esperado
- Mantenha valores `NEXT_PUBLIC_*` alinhados com valores do servidor

**Primeiro login nÃ£o funciona**

- Verifique `INITIAL_PASSWORD` no `.env`
- Se nÃ£o definido, senha padrÃ£o Ã© `123456`

**Sem logs de requisiÃ§Ã£o**

- Defina `ENABLE_REQUEST_LOGS=true` no `.env`

**Teste de conexÃ£o mostra "Invalid" para provedores compatÃ­veis com OpenAI**

- Muitos provedores nÃ£o expÃµem endpoint `/models`
- OmniRoute v1.0.3+ inclui validaÃ§Ã£o via chat completions como fallback
- Certifique-se de que a base URL inclui sufixo `/v1`

</details>

---

## ğŸ› ï¸ Stack TecnolÃ³gico

- **Runtime**: Node.js 20+
- **Linguagem**: TypeScript 5.9 â€” **100% TypeScript** em `src/` e `open-sse/` (v1.0.3)
- **Framework**: Next.js 16 + React 19 + Tailwind CSS 4
- **Banco de Dados**: LowDB (JSON) + SQLite (estado do domÃ­nio + logs de proxy)
- **Streaming**: Server-Sent Events (SSE)
- **Auth**: OAuth 2.0 (PKCE) + JWT + API Keys
- **Testes**: Node.js test runner (368+ testes unitÃ¡rios)
- **CI/CD**: GitHub Actions (publicaÃ§Ã£o automÃ¡tica npm + Docker Hub no release)
- **Website**: [omniroute.online](https://omniroute.online)
- **Pacote**: [npmjs.com/package/omniroute](https://www.npmjs.com/package/omniroute)
- **Docker**: [hub.docker.com/r/diegosouzapw/omniroute](https://hub.docker.com/r/diegosouzapw/omniroute)
- **ResiliÃªncia**: Circuit breaker, backoff exponencial, anti-thundering herd, spoofing TLS

---

## ğŸ“– DocumentaÃ§Ã£o

| Documento                                       | DescriÃ§Ã£o                                         |
| ----------------------------------------------- | ------------------------------------------------- |
| [Guia do UsuÃ¡rio](docs/USER_GUIDE.md)           | Provedores, combos, integraÃ§Ã£o CLI, deploy        |
| [ReferÃªncia da API](docs/API_REFERENCE.md)      | Todos os endpoints com exemplos                   |
| [SoluÃ§Ã£o de Problemas](docs/TROUBLESHOOTING.md) | Problemas comuns e soluÃ§Ãµes                       |
| [Arquitetura](docs/ARCHITECTURE.md)             | Arquitetura do sistema e internos                 |
| [Contribuindo](CONTRIBUTING.md)                 | Setup de desenvolvimento e diretrizes             |
| [Spec OpenAPI](docs/openapi.yaml)               | EspecificaÃ§Ã£o OpenAPI 3.0                         |
| [PolÃ­tica de SeguranÃ§a](SECURITY.md)            | Reportar vulnerabilidades e prÃ¡ticas de seguranÃ§a |
| [Deploy em VM](docs/VM_DEPLOYMENT_GUIDE.md)     | Guia completo: VM + nginx + Cloudflare            |
| [Galeria de Features](docs/FEATURES.md)         | Tour visual do dashboard com screenshots          |

### ğŸ“¸ Preview do Dashboard

<details>
<summary><b>Clique para ver screenshots do dashboard</b></summary>

| PÃ¡gina            | Screenshot                                        |
| ----------------- | ------------------------------------------------- |
| **Provedores**    | ![Providers](docs/screenshots/01-providers.png)   |
| **Combos**        | ![Combos](docs/screenshots/02-combos.png)         |
| **Analytics**     | ![Analytics](docs/screenshots/03-analytics.png)   |
| **SaÃºde**         | ![Health](docs/screenshots/04-health.png)         |
| **Tradutor**      | ![Translator](docs/screenshots/05-translator.png) |
| **ConfiguraÃ§Ãµes** | ![Settings](docs/screenshots/06-settings.png)     |
| **CLI Tools**     | ![CLI Tools](docs/screenshots/07-cli-tools.png)   |
| **Logs de Uso**   | ![Usage](docs/screenshots/08-usage.png)           |
| **Endpoint**      | ![Endpoint](docs/screenshots/09-endpoint.png)     |

</details>

---

## ğŸ—ºï¸ Roadmap

O OmniRoute tem **210+ funcionalidades planejadas** em mÃºltiplas fases de desenvolvimento. Ãreas principais:

| Categoria                        | Features Planejadas | Destaques                                                                   |
| -------------------------------- | ------------------- | --------------------------------------------------------------------------- |
| ğŸ§  **Roteamento e InteligÃªncia** | 25+                 | Roteamento por menor latÃªncia, roteamento por tags, prÃ©-verificaÃ§Ã£o de cota |
| ğŸ”’ **SeguranÃ§a e Compliance**    | 20+                 | Hardening SSRF, cloaking de credenciais, rate-limit por endpoint            |
| ğŸ“Š **Observabilidade**           | 15+                 | IntegraÃ§Ã£o OpenTelemetry, monitoramento de cota em tempo real               |
| ğŸ”„ **IntegraÃ§Ãµes**               | 20+                 | Registro dinÃ¢mico de modelos, cooldowns de provedor                         |
| âš¡ **Performance**               | 15+                 | Cache dupla camada, prompt cache, response cache, batch API                 |
| ğŸŒ **Ecossistema**               | 10+                 | WebSocket API, config hot-reload, modo comercial                            |

### ğŸ”œ Em Breve

- ğŸ”— **IntegraÃ§Ã£o com OpenCode** â€” Suporte nativo como provider para a IDE OpenCode
- ğŸ”— **IntegraÃ§Ã£o com TRAE** â€” Suporte completo ao framework de desenvolvimento TRAE
- ğŸ“¦ **Batch API** â€” Processamento assÃ­ncrono em lote para requisiÃ§Ãµes em massa
- ğŸ¯ **Roteamento por Tags** â€” Roteamento de requisiÃ§Ãµes baseado em tags personalizadas
- ğŸ’° **EstratÃ©gia de Menor Custo** â€” SeleÃ§Ã£o automÃ¡tica do provedor mais barato

> ğŸ“ EspecificaÃ§Ãµes completas de features disponÃ­veis em [`docs/new-features/`](docs/new-features/) (217 specs detalhadas)

---

## ğŸ“§ Suporte

- **Website**: [omniroute.online](https://omniroute.online)
- **GitHub**: [github.com/diegosouzapw/OmniRoute](https://github.com/diegosouzapw/OmniRoute)
- **Issues**: [github.com/diegosouzapw/OmniRoute/issues](https://github.com/diegosouzapw/OmniRoute/issues)
- **Projeto Original**: [9router por decolua](https://github.com/decolua/9router)

---

## ğŸ‘¥ Contribuidores

[![Contributors](https://contrib.rocks/image?repo=diegosouzapw/OmniRoute&max=100&columns=20&anon=1)](https://github.com/diegosouzapw/OmniRoute/graphs/contributors)

### Como Contribuir

1. FaÃ§a fork do repositÃ³rio
2. Crie sua branch de funcionalidade (`git checkout -b feature/amazing-feature`)
3. FaÃ§a commit das suas alteraÃ§Ãµes (`git commit -m 'Add amazing feature'`)
4. FaÃ§a push para a branch (`git push origin feature/amazing-feature`)
5. Abra um Pull Request

Veja [CONTRIBUTING.md](CONTRIBUTING.md) para diretrizes detalhadas.

### LanÃ§ando uma Nova VersÃ£o

```bash
# Crie um release â€” publicaÃ§Ã£o no npm acontece automaticamente
gh release create v1.0.3 --title "v1.0.3" --generate-notes
```

---

## ğŸ“Š HistÃ³rico de Stars

<a href="https://star-history.com/#diegosouzapw/OmniRoute&Date">
 <picture>
   <source media="(prefers-color-scheme: dark)" srcset="https://api.star-history.com/svg?repos=diegosouzapw/OmniRoute&type=Date&theme=dark" />
   <source media="(prefers-color-scheme: light)" srcset="https://api.star-history.com/svg?repos=diegosouzapw/OmniRoute&type=Date" />
   <img alt="Star History Chart" src="https://api.star-history.com/svg?repos=diegosouzapw/OmniRoute&type=Date" />
 </picture>
</a>

---

## ğŸ™ Agradecimentos

Agradecimento especial a **[9router](https://github.com/decolua/9router)** por **[decolua](https://github.com/decolua)** â€” o projeto original que inspirou este fork. OmniRoute se baseia nessa fundaÃ§Ã£o incrÃ­vel com funcionalidades adicionais, APIs multi-modal e uma reescrita completa em TypeScript.

Agradecimento especial a **[CLIProxyAPI](https://github.com/router-for-me/CLIProxyAPI)** â€” a implementaÃ§Ã£o original em Go que inspirou esta adaptaÃ§Ã£o em JavaScript.

---

## ğŸ“„ LicenÃ§a

LicenÃ§a MIT - veja [LICENSE](LICENSE) para detalhes.

---

<div align="center">
  <sub>Feito com â¤ï¸ para desenvolvedores que programam 24/7</sub>
  <br/>
  <sub><a href="https://omniroute.online">omniroute.online</a></sub>
</div>
